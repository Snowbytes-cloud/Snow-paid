local Players = game:GetService("Players")
local Player = Players.LocalPlayer

-- URL do repositório com a whitelist
local whitelistURL = "https://raw.githubusercontent.com/Snowbytes-cloud/wl/refs/heads/main/wl"

-- Puxa a whitelist do seu repositório
local success, whitelist = pcall(function()
    return loadstring(game:HttpGet(whitelistURL, true))()
end)

if not success or type(whitelist) ~= "table" then
    warn("Não foi possível carregar a whitelist ou formato inválido. Negando acesso.")
    Player:Kick("Erro ao carregar whitelist.")
    return
end

-- Checa se o jogador está na whitelist
local allowed = false
for _, name in ipairs(whitelist) do
    if name == Player.Name then
        allowed = true
        break
    end
end

if not allowed then
    Player:Kick("Você não está autorizado para Usar esse Script compra ou peça ao dono.")
    return
end

-- Se passou na whitelist, continua com o menu

-- Carrega a ZS-LIB
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/556ii/ZS-LIB/refs/heads/main/SUEZ", true))()

local player = Players.LocalPlayer
local leaderstats = player:WaitForChild("leaderstats", 5)
local displayName = player.DisplayName

-- cria a janela
local window = library:AddWindow("Snow paid", {
    main_color = Color3.fromRGB(10, 10, 80), -- azul escuro
    min_size   = Vector2.new(660, 660),
    can_resize = false
})

-- aba principal
local page = window:AddTab("Main")

-- Variável do lock
local positionLockConnection = nil

local function lockPlayerPosition(position)
	if positionLockConnection then
		positionLockConnection:Disconnect()
	end

	positionLockConnection = game:GetService("RunService").Heartbeat:Connect(function()
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			player.Character.HumanoidRootPart.CFrame = position
		end
	end)
end

local function unlockPlayerPosition()
	if positionLockConnection then
		positionLockConnection:Disconnect()
		positionLockConnection = nil
	end
end

rebirthFarmFolder:AddSwitch("Lock Position / pack", function(bool)
	if bool then
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			local currentPosition = player.Character.HumanoidRootPart.CFrame
			lockPlayerPosition(currentPosition)
		end
	else
		unlockPlayerPosition()
	end
end)

local packFarm = rebirthFarmFolder:AddSwitch("Rebirth Farm / pack", function(bool)
	isRunning = bool

	task.spawn(function()
		while isRunning do
			local currentRebirths = player.leaderstats.Rebirths.Value
			local rebirthCost = 10000 + (5000 * currentRebirths)

			if player.ultimatesFolder:FindFirstChild("Golden Rebirth") then
				local goldenRebirths = player.ultimatesFolder["Golden Rebirth"].Value
				rebirthCost = math.floor(rebirthCost * (1 - (goldenRebirths * 0.1)))
			end

			unequipAllPets()
			task.wait(0.2)
			equipUniquePet("Swift Samurai")

			while isRunning and player.leaderstats.Strength.Value < rebirthCost do
				for i = 1, 10 do
					player.muscleEvent:FireServer("rep")
				end
				task.wait(0.04)
			end

			unequipAllPets()
			task.wait(0.2)
			equipUniquePet("Tribal Overlord")
			task.wait(0.4)

			local machine = findMachine("Jungle Bar Lift")
			if machine and machine:FindFirstChild("interactSeat") then
				player.Character.HumanoidRootPart.CFrame = machine.interactSeat.CFrame * CFrame.new(0, 3, 0)
				repeat
					task.wait(0.25)
					pressE()
				until player.Character.Humanoid.Sit
			end

			local initialRebirths = player.leaderstats.Rebirths.Value
			repeat
				ReplicatedStorage.rEvents.rebirthRemote:InvokeServer("rebirthRequest")
				task.wait(0.5)
			until player.leaderstats.Rebirths.Value > initialRebirths or not isRunning

			if not isRunning then break end
			task.wait(0.2)
		end
	end)
end)

local frameToggle = rebirthFarmFolder:AddSwitch("Hide Frames / pack", function(bool)
	local rSto = game:GetService("ReplicatedStorage")
	for _, obj in pairs(rSto:GetChildren()) do
		if obj.Name:match("Frame$") then
			obj.Visible = not bool
		end
	end
end)

local speedGrind = rebirthFarmFolder:AddSwitch("Fast Strength / pack", function(bool)
	if _G.fastGrindActive then
		_G.fastGrindActive = false
		print("Grind parado.")
		unequipAllPets()
		return
	end

	if not bool then
		unequipAllPets()
		return
	end

	_G.fastGrindActive = true
	print("Grind iniciado.")

	equipUniquePet("Swift Samurai")

	local player = game:GetService("Players").LocalPlayer
	local delay = 0
	local loopAmount = 12

	for i = 1, loopAmount do
		task.spawn(function()
			while _G.fastGrindActive do
				player.muscleEvent:FireServer("rep")
				task.wait(delay)
			end
		end)
	end

	task.spawn(function()
		while _G.fastGrindActive do
			if math.random() < 0.9 then
				player.muscleEvent:FireServer("rep")
			end
			task.wait(delay)
		end
	end)

	task.spawn(function()
		while _G.fastGrindActive do
			local pingStat = game:GetService("Stats").Network.ServerStatsItem["Data Ping"]
			local ping = pingStat and pingStat:GetValue() or 0

			if ping > 500 then
				delay = 0.002
			else
				delay = 0
			end

			print("Delay:", delay, "Ping:", ping)
			task.wait(1)
		end
	end)
end)

            end
        end
    end
end)
